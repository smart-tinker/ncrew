# –õ–æ–∫–∞–ª—å–Ω—ã–π –í–µ–±-–ß–∞—Ç

## –û–ø–∏—Å–∞–Ω–∏–µ

–õ–æ–∫–∞–ª—å–Ω—ã–π –≤–µ–±-—á–∞—Ç –∏ Telegram-–≥—Ä—É–ø–ø–∞ - —ç—Ç–æ **–¥–≤–∞ —Ä–∞–≤–Ω–æ—Ü–µ–Ω–Ω—ã—Ö –ø—É—Ç–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è** —Å —Å–∏—Å—Ç–µ–º–æ–π NeuroCrew Lab. –í—ã–±–∏—Ä–∞–π—Ç–µ —É–¥–æ–±–Ω—ã–π –≤–∞–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ Telegram –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä - –æ–±–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Å–∏—Å—Ç–µ–º–æ–π –∞–≥–µ–Ω—Ç–æ–≤.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì± **–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —á–∞—Ç UI** - –æ—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ä–µ–∞–ª-—Ç–∞–π–º–µ
- ü§ñ **–í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ —Ä–æ–ª–µ–π** - —Ä–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
- üåì **Dark mode** - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π
- üìä **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –æ–¥–Ω–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (FileStorage) –¥–ª—è Telegram –∏ –≤–µ–±–∞
- üîê **Basic Auth** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚ö° **Real-time polling** - –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–æ—Å—Ç—É–ø –∫ —á–∞—Ç—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `http://localhost:8080`
2. –í–≤–µ–¥–∏—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Basic Auth (WEB_ADMIN_USER –∏ WEB_ADMIN_PASS)
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –≤–µ–±-—á–∞—Ç–æ–º
4. –î–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ä–æ–ª–µ–π –Ω–∞–∂–º–∏—Ç–µ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8080/settings`

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

- –í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –≤–Ω–∏–∑—É
- –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å" –∏–ª–∏ Enter
- –°–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ engine'–æ–º –∫–∞–∫ –æ–±—ã—á–Ω–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ê–≥–µ–Ω—Ç—ã –æ—Ç–≤–µ—Ç—è—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ù–∞–≤–∏–≥–∞—Ü–∏—è

- –ù–∞–∂–º–∏—Ç–µ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—è–º–∏ –∏ –∞–≥–µ–Ω—Ç–∞–º–∏
- –ù–∞–∂–º–∏—Ç–µ –∏–∫–æ–Ω–∫—É –ª—É–Ω—ã/—Å–æ–ª–Ω—Ü–∞ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π
- –ß–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä–æ–ª–ª–∏—Ç—Å—è –∫ –Ω–æ–≤—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º
- –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ —Ä–µ–∞–ª-—Ç–∞–π–º–µ –º–µ–∂–¥—É Telegram –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
Frontend (chat.html)
    ‚Üì
API Routes (web_server.py)
    ‚îú‚îÄ‚îÄ GET /chat                          ‚Üí render template
    ‚îú‚îÄ‚îÄ GET /api/chat/history              ‚Üí load history from FileStorage
    ‚îú‚îÄ‚îÄ GET /api/chat/updates?last_index=N ‚Üí polling for new messages
    ‚îî‚îÄ‚îÄ POST /api/chat/message             ‚Üí send & process message via engine
    ‚Üì
FileStorage
    ‚Üì
NeuroCrewLab (engine)
    ‚Üì
Agent Responses ‚Üí FileStorage ‚Üí Both Telegram & Web UI
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

1. **–ï–¥–∏–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**: FileStorage - –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è Telegram –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
2. **–†–∞–≤–Ω–æ—Ü–µ–Ω–Ω—ã–µ –ø—É—Ç–∏**: –û–±–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
3. **–û–±—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–∏–∑ Telegram –∏–ª–∏ –≤–µ–±–∞) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ–¥–Ω–∏–º engine'–æ–º
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –°–æ–æ–±—â–µ–Ω–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤–µ–∑–¥–µ –±–ª–∞–≥–æ–¥–∞—Ä—è –µ–¥–∏–Ω–æ–º—É —Ö—Ä–∞–Ω–∏–ª–∏—â—É

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (Telegram)  ‚Üê‚Üí  Telegram Bot  ‚îÄ‚îÄ‚Üí ‚îê
                                              ‚îÇ
                                        FileStorage
                                              ‚îÇ
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (Web)       ‚Üê‚Üí  Web Interface  ‚îÄ‚îÄ‚Üí ‚î¥
                                              ‚îÇ
                                        Engine (NeuroCrewLab)
                                              ‚Üì
                                        –ê–≥–µ–Ω—Ç—ã (Roles)
```

–û–±–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∞–≥–µ–Ω—Ç–æ–≤ –∏ –∏—Å—Ç–æ—Ä–∏–µ–π —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤.

### Polling —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **polling** (–∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã):
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–æ 2 —Å–µ–∫, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –Ω–∞ WebSocket –ø–æ–∑–∂–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

## API Reference

### GET /api/chat/history

–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞.

**Response:**
```json
{
  "messages": [
    {
      "role": "user",
      "role_display": "User",
      "text": "Hello",
      "timestamp": "2024-11-21T10:30:00"
    },
    {
      "role": "agent",
      "role_display": "Software Developer",
      "text": "Hi! How can I help?",
      "timestamp": "2024-11-21T10:30:05"
    }
  ],
  "total": 2
}
```

### GET /api/chat/updates?last_index=0

–ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∏–Ω–¥–µ–∫—Å–∞ (–¥–ª—è polling).

**Query Parameters:**
- `last_index` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã—Ö)

**Response:**
```json
{
  "messages": [
    {
      "role": "agent",
      "role_display": "Code Reviewer",
      "text": "Code looks good!",
      "timestamp": "2024-11-21T10:31:00"
    }
  ]
}
```

### POST /api/chat/message

–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è engine'–æ–º).

**Request:**
```json
{
  "text": "Please review this code"
}
```

**Response:**
```json
{
  "success": true,
  "message": "Message sent and processed"
}
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
WEB_ADMIN_USER=admin          # –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
WEB_ADMIN_PASS=password       # –ü–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
TARGET_CHAT_ID=12345          # ID —á–∞—Ç–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
```

### –ú–∞—Ä—à—Ä—É—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
http://localhost:8080/                    # üéØ –ì–ª–∞–≤–Ω–∞—è: –í–µ–±-—á–∞—Ç (—Ä–∞–≤–Ω–æ—Ü–µ–Ω–Ω—ã–π Telegram)
http://localhost:8080/settings            # ‚öôÔ∏è  –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
http://localhost:8080/api/chat/history    # üìä API: –ü–æ–ª—É—á–∏—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é
http://localhost:8080/api/chat/updates    # üì° API: –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (polling)
http://localhost:8080/api/chat/message    # üì§ API: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Polling –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞

–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –≤ `templates/chat.html`:

```javascript
updateInterval = setInterval(pollUpdates, 2000); // 2000ms = 2 —Å–µ–∫
```

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- `1000` - 1 —Å–µ–∫ (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å, –Ω–æ –±–æ–ª—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞)
- `2000` - 2 —Å–µ–∫ (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ, **—Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**)
- `5000` - 5 —Å–µ–∫ (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)

## –¢–µ—Å—Ç—ã

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã –≤–µ–±-—á–∞—Ç–∞
pytest tests/test_web_chat.py -v

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/test_web_chat.py::test_api_send_message_empty_text -v
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ

- ‚úÖ Authentication (8 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ Chat history loading
- ‚úÖ Message polling
- ‚úÖ Message sending
- ‚úÖ Error handling

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Python

```python
import requests
import json

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
url = "http://localhost:8080/api/chat/message"
headers = {
    "Authorization": "Basic YWRtaW46cGFzc3dvcmQ=",
    "Content-Type": "application/json"
}
data = {"text": "What should we implement next?"}

response = requests.post(url, json=data, headers=headers)
print(response.json())
```

### JavaScript (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ frontend)

```javascript
// –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
const response = await fetch('/api/chat/history');
const data = await response.json();
console.log(`Loaded ${data.total} messages`);

// –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
const response = await fetch('/api/chat/message', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ text: 'Your message here' })
});
const result = await response.json();
console.log(result.success ? 'Sent!' : 'Error');
```

## Troubleshooting

### –ß–∞—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Basic Auth —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `TARGET_CHAT_ID` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `.env`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –æ—à–∏–±–∫–∏

### –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ agent'—ã –≤–∫–ª—é—á–µ–Ω—ã –≤ `roles/agents.yaml`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ CLI –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç: `python main.py`
3. –£–≤–µ–ª–∏—á—å—Ç–µ polling –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### Basic Auth –æ—à–∏–±–∫–∏

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `WEB_ADMIN_USER` –∏ `WEB_ADMIN_PASS` –≤ `.env`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è header'–∞: `Authorization: Basic base64(user:pass)`

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

| –§—É–Ω–∫—Ü–∏—è | Telegram | –í–µ–±-—á–∞—Ç |
|---------|----------|---------|
| –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π | ‚úÖ | ‚úÖ |
| –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ | ‚úÖ | ‚úÖ |
| –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π | ‚úÖ | ‚úÖ |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ | ‚ùå | ‚úÖ |
| –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞ | ‚ùå | ‚úÖ (–≤ `/settings`) |
| –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ—Ñ–ª–∞–π–Ω | ‚ùå | ‚úÖ (–ª–æ–∫–∞–ª—å–Ω–æ) |
| –ú–æ–±–∏–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø | ‚úÖ | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞ |
| –ö–æ–º–∞–Ω–¥–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ | ‚úÖ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ) | ‚úÖ (—á–µ—Ä–µ–∑ —Ç–µ–∫—Å—Ç) |

**–û–±–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ä–∞–≤–Ω–æ—Ü–µ–Ω–Ω—ã** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–¥–æ–±–Ω—ã–π –≤–∞–º –≤ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏.

## –†–∞–∑–≤–∏—Ç–∏–µ

### –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

- üîÑ **WebSocket** –≤–º–µ—Å—Ç–æ polling –¥–ª—è –º–µ–Ω—å—à–µ–π –∑–∞–¥–µ—Ä–∂–∫–∏ (–º–∏–≥—Ä–∞—Ü–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)
- üìù **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ** —Å–æ–æ–±—â–µ–Ω–∏–π
- üë• **Multi-user** –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
- üîç **–ü–æ–∏—Å–∫** –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
- üìä **Analytics dashboard** —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∞–≥–µ–Ω—Ç–æ–≤
- üé§ **Voice messages** (–æ—Ç–ø—Ä–∞–≤–∫–∞ –≥–æ–ª–æ—Å–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä)
- üìé **File uploads** –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- üîî **Notifications** –∫–æ–≥–¥–∞ –∞–≥–µ–Ω—Ç –æ—Ç–≤–µ—Ç–∏–ª
- üåç **Mobile app** –Ω–∞ –±–∞–∑–µ React Native –¥–ª—è iOS/Android

## Troubleshooting

### –ß–∞—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
curl -I http://localhost:8080
# –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 401 (Unauthorized) - –∑–Ω–∞—á–∏—Ç, —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
# WEB_ADMIN_USER –∏ WEB_ADMIN_PASS –≤ .env –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
```

### –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã
tail -f data/logs/ncrew.log | grep -i "chat\|message"

# 2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ TARGET_CHAT_ID —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
grep TARGET_CHAT_ID .env

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ agent'—ã –≤–∫–ª—é—á–µ–Ω—ã
grep "is_disabled" roles/agents.yaml
```

### Polling —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤ chat.html
grep "pollUpdates" templates/chat.html

# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –∏–Ω—Ç–µ—Ä–≤–∞–ª 2—Å–µ–∫ –æ–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª–Ω—ã—Ö –ª–æ–≥–æ–≤
tail -100 data/logs/ncrew.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞
cat roles/agents.yaml

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
curl -u admin:password http://localhost:8080/api/chat/history

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
pytest tests/test_web_chat.py -v

# –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/test_web_chat.py::test_api_send_message_empty_text -v
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–î–ª—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ NeuroCrew Lab, –∞–≥–µ–Ω—Ç–∞—Ö –∏ –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ:
- üìñ `README.md` - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- ü§ñ `AGENTS.md` - –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
- ‚öôÔ∏è `roles/agents.yaml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–æ–ª–µ–π
