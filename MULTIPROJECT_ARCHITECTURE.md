# –ú–Ω–æ–≥–æ–ø—Ä–æ–µ–∫—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ NeuroCrew Lab

## –û–±–∑–æ—Ä

NeuroCrew Lab –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–º–Ω–æ–≥–æ–ø—Ä–æ–µ–∫—Ç–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**:

- **–ü—Ä–æ–µ–∫—Ç—ã** —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `~/.ncrew/<project>/` 
- **–ü—Ä–æ–º–ø—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤** –æ–±—â–∏–µ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ `~/.ncrew/prompts/`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** ‚Äî –æ–¥–∏–Ω —Ñ–∞–π–ª `config.yaml` –Ω–∞ –ø—Ä–æ–µ–∫—Ç

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```
~/.ncrew/
‚îú‚îÄ‚îÄ current_project.txt          # –ò–º—è —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ prompts/                      # –û–±—â–∏–µ –ø—Ä–æ–º–ø—Ç—ã (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ UI)
‚îÇ   ‚îú‚îÄ‚îÄ software_developer.md
‚îÇ   ‚îú‚îÄ‚îÄ code_review.md
‚îÇ   ‚îú‚îÄ‚îÄ product_owner.md
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ ncrew/                        # –ü—Ä–æ–µ–∫—Ç "ncrew"
‚îÇ   ‚îú‚îÄ‚îÄ config.yaml               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ data/
‚îÇ       ‚îî‚îÄ‚îÄ conversations/        # –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ test_yaml_new/                # –ü—Ä–æ–µ–∫—Ç "test_yaml_new"
‚îÇ   ‚îú‚îÄ‚îÄ config.yaml
‚îÇ   ‚îî‚îÄ‚îÄ data/
‚îî‚îÄ‚îÄ test_project/                 # –ü—Ä–æ–µ–∫—Ç "test_project"
    ‚îú‚îÄ‚îÄ config.yaml
    ‚îî‚îÄ‚îÄ data/
```

## –§–æ—Ä–º–∞—Ç config.yaml

```yaml
main_bot_token: "your_main_bot_token"
target_chat_id: 123456789
log_level: INFO

roles:
  - role_name: software_developer
    display_name: Software Developer
    telegram_bot_name: Software_Dev_Bot
    telegram_bot_token: "bot_token_1"      # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
    prompt_file: software_developer.md     # –ò–∑ ~/.ncrew/prompts/
    agent_type: gemini_acp
    cli_command: "gemini --experimental-acp"
    description: "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ Rust/TypeScript"
    is_moderator: false

  - role_name: code_review
    display_name: Code Review
    telegram_bot_name: Code_Review_Bot
    telegram_bot_token: "bot_token_2"      # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
    prompt_file: code_review.md
    agent_type: opencode_acp
    cli_command: "opencode acp"
    description: "–ö–æ–¥-—Ä–µ–≤—å—é–µ—Ä"
    is_moderator: false
```

## CLI –∫–æ–º–∞–Ω–¥—ã

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
python ncrew_cli.py init my_project
```

–°–æ–∑–¥–∞—ë—Ç:
- `~/.ncrew/my_project/`
- `~/.ncrew/my_project/config.yaml` (–ø—É—Å—Ç–æ–π —à–∞–±–ª–æ–Ω)
- `~/.ncrew/my_project/data/`

### –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤

```bash
python ncrew_cli.py list
```

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã —Å –ø–æ–º–µ—Ç–∫–æ–π —Ç–µ–∫—É—â–µ–≥–æ.

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
python ncrew_cli.py switch my_project
```

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç –∫–∞–∫ —Ç–µ–∫—É—â–∏–π.

### –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç

```bash
python ncrew_cli.py current
```

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø—Ä–æ–µ–∫—Ç–µ.

### –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
python ncrew_cli.py delete my_project
```

–£–¥–∞–ª—è–µ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏

–ü—Ä–æ–º–ø—Ç—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

1. –û—Ç–∫—Ä—ã—Ç—å `/settings`
2. –ù–∞–∂–∞—Ç—å "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ–ª–µ–π"
3. –í—ã–±—Ä–∞—Ç—å —Ä–æ–ª—å –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

–ü—Ä–æ–º–ø—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `~/.ncrew/prompts/<prompt_file>.md`.

**–í–∞–∂–Ω–æ:** –ü—Ä–æ–º–ø—Ç—ã –æ–±—â–∏–µ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤! –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç.

## API –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏

```python
from app.config_manager import multi_project_manager

# –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
config = {
    "main_bot_token": "token",
    "target_chat_id": 123456,
    "roles": [...]
}
project = multi_project_manager.create_project("my_project", config)

# –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
projects = multi_project_manager.list_projects()

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
current = multi_project_manager.get_current_project()

# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
multi_project_manager.set_current_project("my_project")

# –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
project = multi_project_manager.get_project("my_project")
config = project.load_config()
```

### –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏

```python
from app.config_manager import multi_project_manager

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞
multi_project_manager.save_prompt("software_developer", "# Prompt content...")

# –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–∞
content = multi_project_manager.load_prompt("software_developer")

# –°–ø–∏—Å–æ–∫ –ø—Ä–æ–º–ø—Ç–æ–≤
prompts = multi_project_manager.list_prompts()
```

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `main.py`:

1. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç –∏–∑ `~/.ncrew/current_project.txt`
2. –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è `default`
3. –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è `~/.ncrew/<project>/config.yaml`
4. –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é
5. –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ä–æ–ª–∏ –∏–∑ `config.yaml`
6. –î–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–æ–º–ø—Ç –∏–∑ `~/.ncrew/prompts/`

## UI —Å –º–Ω–æ–≥–æ–ø—Ä–æ–µ–∫—Ç–Ω–æ—Å—Ç—å—é

–§–∞–π–ª `templates/projects_sidebar_ui.html` –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üß† NeuroCrew   ‚îÇ  üìÅ my_project     ‚îÇ
‚îÇ  MVP - —Å–∏—Å—Ç–µ–º–∞   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§                     ‚îÇ
‚îÇ  –ü—Ä–æ–µ–∫—Ç—ã:        ‚îÇ                     ‚îÇ
‚îÇ   üìÅ ncrew       ‚îÇ    –ö–æ–Ω—Ç–µ–Ω—Ç          ‚îÇ
‚îÇ   üìÅ test_yaml   ‚îÇ                     ‚îÇ
‚îÇ   üìÅ my_project  ‚îÇ                     ‚îÇ
‚îÇ                  ‚îÇ                     ‚îÇ
‚îÇ  ‚ûï –ù–æ–≤—ã–π        ‚îÇ                     ‚îÇ
‚îÇ                  ‚îÇ                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§                     ‚îÇ
‚îÇ üåê –ì–ª–æ–±–∞–ª—å–Ω—ã–µ    ‚îÇ                     ‚îÇ
‚îÇ    –Ω–∞—Å—Ç—Ä–æ–π–∫–∏     ‚îÇ                     ‚îÇ
‚îÇ üë• –ù–∞—Å—Ç—Ä–æ–π–∫–∞     ‚îÇ                     ‚îÇ
‚îÇ    —Ä–æ–ª–µ–π         ‚îÇ                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

- **–ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å** ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤, –∫–Ω–æ–ø–∫–∞ "+ –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç"
- **–í–Ω–∏–∑—É –ø–∞–Ω–µ–ª–∏** ‚Äî –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–ë–ï–ó –∑–∞–≥–æ–ª–æ–≤–∫–∞ "–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è")
- **–ö–Ω–æ–ø–∫–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ–ª–µ–π"** ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–æ–º–ø—Ç–æ–≤

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `NCREW_PROJECT` ‚Äî –∏–º—è —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- `NCREW_PROJECT_ROOT` ‚Äî –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
- `NCREW_ALLOW_DUMMY_TOKENS` ‚Äî —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ñ–∏–∫—Ç–∏–≤–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤ (`1` –∏–ª–∏ `0`)

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞** ‚Äî –æ–¥–∏–Ω —Ñ–∞–π–ª `config.yaml` –Ω–∞ –ø—Ä–æ–µ–∫—Ç
2. **–ò–∑–æ–ª—è—Ü–∏—è** ‚Äî –ø—Ä–æ–µ–∫—Ç—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã
3. **–û–±—â–∏–µ –ø—Ä–æ–º–ø—Ç—ã** ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
5. **MVP** ‚Äî –º–∏–Ω–∏–º—É–º —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, –º–∞–∫—Å–∏–º—É–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## –û—Ç–ª–∏—á–∏—è –æ—Ç —Å—Ç–∞—Ä–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –ë—ã–ª–æ (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è)

- `.env` —Ñ–∞–π–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- `roles/agents.yaml` —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏ –≤ `roles/prompts/`
- Fallback –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–Ω—ã–π `.env`
- –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

### –°—Ç–∞–ª–æ (–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)

- `config.yaml` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- –ü—Ä–æ–º–ø—Ç—ã –≤ `~/.ncrew/prompts/` (–æ–±—â–∏–µ)
- –ù–∏–∫–∞–∫–∏—Ö fallback'–æ–≤
- –ù–∏–∫–∞–∫–∏—Ö –º–∏–≥—Ä–∞—Ü–∏–π (—ç—Ç–æ MVP!)

## –ü—Ä–∏–º–µ—Ä –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
python ncrew_cli.py init my_first_project

# 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å config.yaml
nano ~/.ncrew/my_first_project/config.yaml

# 3. –°–æ–∑–¥–∞—Ç—å/–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã —á–µ—Ä–µ–∑ –≤–µ–±-UI
#    –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –≤ ~/.ncrew/prompts/

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å
python main.py
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

‚úÖ –ü—Ä–æ—Å—Ç–∞—è –º–Ω–æ–≥–æ–ø—Ä–æ–µ–∫—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  
‚úÖ –û–¥–∏–Ω —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏  
‚úÖ –û–±—â–∏–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤  
‚úÖ –ù–∏–∫–∞–∫–∏—Ö fallback'–æ–≤ –∏ –º–∏–≥—Ä–∞—Ü–∏–π  
‚úÖ MVP-–ø–æ–¥—Ö–æ–¥: —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
